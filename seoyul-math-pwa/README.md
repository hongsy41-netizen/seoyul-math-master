# 서율이 중1 수학 PWA

중학교 1학년 수학 개념 정리 및 문제 풀이 웹 애플리케이션입니다.

## 주요 기능

- **🏠 홈 버튼**: 언제든지 개념 탭으로 돌아가기
- **📘 개념 학습**: 각 단원별 핵심 개념 요약
- **🧩 문제 풀이**: 난이도별(1~3) 랜덤 문제 생성 및 풀이
- **🧷 오답 노트**: 틀린 문제 자동 저장 및 복습
- **📝 모의고사**: 선택한 단원에서 10~20문항 시험지 생성
- **👪 부모 모드**: 비밀번호로 보호된 학습 통계 및 진행 상황 확인
- **💾 DB 관리**: 단원별 고정 문제 DB 생성 및 저장 (각 난이도당 2000문항)

## 수학 교육 과정 범위

### 1-1 학기 (9개 단원)
- **Ⅰ. 소인수분해**: 소인수분해, 최대공약수와 최소공배수
- **Ⅱ. 정수와 유리수**: 정수와 유리수, 사칙연산
- **Ⅲ. 문자와 식**: 문자의 사용, 일차식의 계산, 방정식과 그 해, 일차방정식의 풀이, 일차방정식의 활용

### 1-2 학기 (7개 단원)
- **I. 기본 도형**: 기본 도형, 위치 관계, 작도와 합동
- **II. 평면도형**: 다각형, 원과 부채꼴
- **III. 입체도형**: 다면체와 회전체, 입체도형의 겉넓이와 부피

### 문제 템플릿 통계
- **총 템플릿 수**: 73개
- **난이도 1**: 16개 (기초 문제)
- **난이도 2**: 16개 (중급 문제)
- **난이도 3**: 41개 (고급 문제)
- **✅ 모든 16개 단원에 난이도 1, 2, 3 문제 보유**

#### 난이도별 특징
- **난이도 1 (기초)**: 개념 이해 및 기본 계산
- **난이도 2 (중급)**: 개념 응용 및 중급 계산
- **난이도 3 (고급)**: 복합 문제, 실생활 응용, 심화 문제
  - 거리/속력/시간 문제
  - 의자 배치 과부족 문제
  - 소금물 농도 문제
  - 나이 문제
  - 복합 도형 문제
  - 입체 도형 응용 문제
  - 부채꼴 호의 길이와 넓이
  - 정다면체 문제
  - 각기둥/회전체 문제

## 최신 업데이트 (2026-01-17)

### ✨ 난이도 3 고급 문제 대폭 추가
- **일차방정식 활용 문제** (실생활 응용)
  - 거리/속력/시간 계산
  - 의자 배치 과부족 문제
  - 소금물 농도 문제
  - 나이 차이 문제
  - 실생활 금액 문제 (1,000원~12,000원 단위)
  
- **도형 고급 문제**
  - 도형 둘레 응용
  - 각도 복합 계산
  - 원 넓이 응용 (도넛 모양)
  - 부채꼴 호의 길이와 넓이
  - 다각형 대각선 개수
  
- **입체 도형 심화 문제**
  - 원기둥/원뿔 부피 차이
  - 직육면체 겉넓이 응용
  - 각기둥 부피 계산
  - 회전체 복합 문제
  - 정다면체 모서리/꼭짓점

### 🎯 UX 개선
- 정답 확인 후 1.5초 후 자동으로 다음 문제로 이동
- 오답인 경우 해설을 읽은 후 수동으로 다음 문제로 이동
- 왼쪽 소단원 클릭 시 자동으로 개념 탭으로 전환
- 중복 클릭 방지 (버튼 비활성화)

### 👪 부모 모드 기능
- 비밀번호: **248530**
- 학습 통계 확인
  - 총 학습 세션 수
  - 총 문제 수
  - 정답률 (색상 표시: 초록/노랑/빨강)
  - 마지막 학습 시각
- 상세 학습 기록
  - 날짜/시간
  - 단원명
  - 난이도
  - 정답/오답 수
  - 소요 시간
  - 문제별 풀이 내역

## 문제 템플릿 확인

템플릿 통계를 확인하려면 브라우저에서 다음 페이지를 열어주세요:
```
http://localhost:5173/check_templates.html
```

각 단원별로 난이도 1, 2, 3 문제가 몇 개씩 있는지 확인할 수 있습니다.

### 필요 사항
- Node.js (v14 이상)
- npm

### 설치 방법

1. 저장소 클론
```bash
git clone https://github.com/hongsy41-netizen/seoyul-math-master.git
cd seoyul-math-master/seoyul-math-pwa
```

2. 의존성 설치
```bash
npm install
```

3. 서버 실행
```bash
npm start
# 또는
node server.js
```

4. 브라우저에서 접속
```
http://localhost:5173
```

## 사용 방법

### 1. 개념 학습
1. 왼쪽 목차에서 원하는 단원 선택
2. 개념 탭에서 핵심 개념 확인

### 2. 문제 풀이
1. 단원 선택 후 난이도 설정 (1: 기본, 2: 대표유형, 3: 응용)
2. 연습 문항 수 선택 (10/20/30개)
3. "▶️ 연습 시작" 버튼 클릭
4. 문제를 읽고 정답 입력
5. "✅ 정답확인" 버튼으로 채점
6. 힌트가 필요하면 "💡 힌트" 버튼 활용

### 3. 오답 노트
1. "🧷 오답" 탭 선택
2. 틀린 문제 목록 확인
3. 문제를 클릭하면 상세 내용 표시
4. "🔄 새로고침"으로 최신 오답 불러오기
5. "🗑 전체삭제"로 오답 노트 초기화

### 4. 모의고사
1. 단원 및 난이도 선택
2. "📝 모의고사" 탭 선택
3. 문항 수 선택 (10/20개)
4. "📝 시험 시작" 버튼 클릭
5. 모든 문제 풀이 후 "📌 제출(일괄채점)" 클릭

### 5. 고정 DB 관리
단원별로 고정된 문제 세트를 미리 생성하여 사용할 수 있습니다.

#### DB 생성/저장
1. 왼쪽 목차에서 단원 선택
2. "💾 단원DB 생성/저장" 버튼 클릭
3. 각 난이도당 2000문항씩 생성
4. `data/fixed/` 폴더에 JSON 파일로 저장

#### DB 불러오기
1. 단원 선택
2. "📂 단원DB 불러오기" 버튼 클릭
3. 저장된 DB가 있으면 자동 로드
4. 이후 연습/시험에서 고정 DB 사용

### 6. 부모 모드 (학습 통계)
비밀번호로 보호된 부모 모드에서 자녀의 학습 진행 상황을 확인할 수 있습니다.

#### 접근 방법
1. 상단 탭에서 "👪 부모모드" 선택
2. 비밀번호 입력: **248530**
3. "🔓 확인" 버튼 클릭

#### 제공 정보
- **📈 전체 요약**
  - 총 학습 세션 수
  - 총 푼 문제 수
  - 전체 정답률 (%)
  - 틀린 문제 수
  - 총 학습 시간
  - 마지막 학습 시간
  
- **📝 상세 학습 기록**
  - 각 학습 세션의 날짜/시간
  - 학습한 단원 및 난이도
  - 문제별 정답/오답 개수
  - 소요 시간
  - 정답률 (색상으로 시각화)
    - 🟢 80% 이상: 초록색
    - 🟡 60-80%: 노란색
    - 🔴 60% 미만: 빨간색

#### 사용 팁
- "🔄 새로고침" 버튼으로 최신 데이터 업데이트
- "🔓 잠금" 버튼으로 부모 모드 종료 (비밀번호 재입력 필요)

## 프로젝트 구조

```
seoyul-math-pwa/
├── index.html              # 메인 HTML
├── server.js              # Express 서버
├── package.json           # 프로젝트 설정
├── manifest.webmanifest   # PWA 매니페스트
├── sw.js                  # 서비스 워커
├── css/
│   └── app.css           # 스타일시트
├── js/
│   ├── app.js            # 메인 앱 로직
│   ├── tree.js           # 목차 UI
│   └── generator/
│       ├── core.js       # 코어 유틸리티
│       ├── generate.js   # 문제 생성 엔진
│       ├── templates_1_1.js  # 1-1 학기 문제 템플릿
│       └── templates_1_2.js  # 1-2 학기 문제 템플릿
├── data/
│   ├── syllabus.json     # 교육과정 목차
│   ├── concepts.json     # 개념 요약
│   └── fixed/            # 고정 DB 저장 폴더
└── storage/              # 오답/학습로그 저장
    ├── wrong_notes.json  # 오답 노트
    └── study_log.json    # 학습 기록
```

## API 엔드포인트

### 오답 노트
- `GET /api/wrong-notes` - 오답 목록 조회
- `POST /api/wrong-notes/append` - 오답 추가
- `POST /api/wrong-notes/clear` - 오답 전체 삭제

### 학습 로그
- `GET /api/study-log` - 학습 기록 조회
- `POST /api/study-log/append` - 학습 기록 추가

### 고정 DB
- `POST /api/fixed-db/save` - 고정 DB 저장
- `GET /api/fixed-db/get?unitId={unitId}` - 고정 DB 조회

## 기술 스택

- **Frontend**: Vanilla JavaScript, HTML5, CSS3
- **Backend**: Node.js, Express.js
- **Storage**: JSON 파일 기반 로컬 저장
- **PWA**: 서비스 워커, 웹 매니페스트

## 문제 생성 시스템

각 단원별로 다양한 템플릿이 준비되어 있으며, 난이도별로 문제가 자동 생성됩니다:

- **난이도 1**: 계산 및 기본 개념 문제
- **난이도 2**: 대표 유형 및 응용 문제
- **난이도 3**: 심화 응용 및 서술형 문제

템플릿은 `js/generator/templates_1_1.js`와 `templates_1_2.js`에서 확인할 수 있습니다.

## 라이선스

이 프로젝트는 교육 목적으로 제작되었습니다.

## 기여

버그 리포트나 기능 제안은 GitHub Issues를 통해 제출해주세요.

## 연락처

프로젝트 관련 문의: [GitHub Repository](https://github.com/hongsy41-netizen/seoyul-math-master)
